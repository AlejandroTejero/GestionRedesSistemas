<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>practica03</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="pandoc.css" />
</head>
<body>
<h2 id="práctica-3.2.-fhs">Práctica 3.2. FHS</h2>
<ol type="1">
<li>Primero creo 3 archivos en tenxto plano con diferentes frases,
importante que tenga letras como la ñ para ver como cambia la
codificacion.</li>
<li>Para comprobar la codificacion de los ficheros ejecuto:</li>
</ol>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">file</span> <span class="op">&lt;</span>nombre_archivo.txt<span class="op">&gt;</span></span></code></pre></div>
<ul>
<li>El resultado de este comando es siempre el mismo:</li>
</ul>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">TextoX.txt:</span> Unicode text, UTF-8 text</span></code></pre></div>
<ol start="3" type="1">
<li>Para ver la codificacion empleada en mi maquina ejecutamos:</li>
</ol>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">locale</span></span></code></pre></div>
<p>Y buscamos donde ponga LANG, en este caso sale: LANG=es_ES.UTF-8</p>
<ol start="4" type="1">
<li>Convertimos los ficheros a una codificacion distinta con:</li>
</ol>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> TextoX TextoXcod</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">recode</span> <span class="op">&lt;</span>codificacion actual<span class="op">&gt;</span>..<span class="op">&lt;</span>codificacion deseada<span class="op">&gt;</span> <span class="op">&lt;</span>TextoXcod<span class="op">&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="ex">recode</span> utf-8..cp1252 Texto1cod</span></code></pre></div>
<ul>
<li>En este caso he creado los siguientes archivos:</li>
</ul>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Texto1cod.cp1252.txt</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Texto2cod.latin1.txt</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Texto3cod.utf16.txt</span></span></code></pre></div>
<ul>
<li>Se puede observar como cambian algunos caracteres como las tildes, o
las ñ. Como dato los caracteres que suelen cambiar suelen ser: “,’,-,_
…</li>
</ul>
<h2 id="práctica-3.3.-cron">Práctica 3.3. Cron</h2>
<ul>
<li>Esta practica la hare desde mi sistema operativo ya que cron es uno
de los demonios que se inicia con el ordenador.</li>
<li>Para ver si cron esta funcionando ejecutare este comando, para ver
si se abre la tabla, si cron no esta instalado saltara un warning</li>
</ul>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">crontab</span> <span class="at">-e</span></span></code></pre></div>
<ol type="1">
<li>Para ejecutar cada minuto necesitamos 5 asteriscos, que perteneceran
a los campos de m,h,dayofmonth,month y dow.</li>
</ol>
<ul>
<li>Abriremos la tabla con el comando anterior (crontab -e) y ahi
meteremos la siguiente linea:</li>
</ul>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="pp">*</span> <span class="pp">*</span> <span class="pp">*</span> <span class="pp">*</span> touch /tmp/test_cron_alejandro</span></code></pre></div>
<ul>
<li><p>Mas alante se comentara esta linea ya que es simplemente para
comprobar si funcion cron, por eso lo creamos en el tmp. Una vez que
veamos en el tmp que se ha creado el archivo comentamos la
linea.</p></li>
<li><p>Para que el fichero que crearemos en el siguiente punto se
actualice cada minuto debemos añadir esta linea</p></li>
</ul>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="pp">*</span> <span class="pp">*</span> <span class="pp">*</span> <span class="pp">*</span> ~/Desktop/lagrs/practica03/escribe_log</span></code></pre></div>
<ol start="2" type="1">
<li>Ahora debemos crear el scrip escribe_log (sin extension) con:</li>
</ol>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> escribe_log</span></code></pre></div>
<ul>
<li>Modificaremos el scrip donde añadiremos lo siguiente:</li>
</ul>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;probando cron - </span><span class="va">$(</span><span class="fu">date</span><span class="va">)</span><span class="st">&quot;</span> <span class="op">&gt;&gt;</span> ~/Desktop/lagrs/log.txt</span></code></pre></div>
<ul>
<li><p>Esto hara que se cada vez que se ejecute de mande esa linea al
final del fichero log.txt, y la primera vez que se ejecute se creara
dicho fichero.</p></li>
<li><p>Para que escribe_log se pueda ejecutar debemos darle permisos
con:</p></li>
</ul>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> +x escribe_log</span></code></pre></div>
<ul>
<li>He comentado el contenido de contab -e para que no se llene el
archivo log.txt. Para ver si la tarea estaba funcionando:</li>
</ul>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span> <span class="at">-f</span> ~/Desktop/lagrs/log.txt</span></code></pre></div>
<ol start="3" type="1">
<li>Para cambiar la periodicidad de la tarea abriremos crontab -e y
debajo de la linea comentada de ejecuccion cada minuto añadimos
esto:</li>
</ol>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span> 9 <span class="pp">*</span> <span class="pp">*</span> 1-5 ~/Desktop/lagrs/practica03/escribe_log</span></code></pre></div>
<ul>
<li>Significado: Ejecuta a las 9 horas, de cual dia del mes, de
lunes-viernes (1-5).</li>
<li>Minuto,hora,dia del mes (dos dias),dias semana</li>
</ul>
</body>
</html>
